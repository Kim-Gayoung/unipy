class MyArduino(Arduino):   
 _int_doorPin = 2
 _int_preState = LOW
 _int_postState = LOW
    
 def _void_setup():
   pinMode(doorPin, INPUT)

 def _void_loop():
   readDoorSensor()
              
 def _void_readDoorSensor():
   postState = digitalRead(doorPin)

   if postState == HIGH and preState == LOW:
      MyRaspberry.reqSend("0")
      preState = postState
        
   if postState == LOW and preState == HIGH:
      MyRaspberry.reqSend("1")
      preState = postState

class MyRaspberry(Raspberry):
 _url = "http://168.131.152.196/common.php"
 def reqSend(val):
   if val == 48:  # ''0''
      pic_bin = takeAPhoto()
      MyCloud.recordDoorState(_url , 'c', pic_bin)
   if val == 49:  # ''1''
      pic_bin = takAPhoto()
      MyCloud.recordDoorState(_url, 'o', pic_bin)

class MyCloud(Cloud):         
 def recordDoorState(openclose, pic_bin):        
    d_pic_loc = save_picture(pic_bin)

    # insert into
    #    doorStateTable(d_openclose, d_pic_loc) 
    #    values (openclose, d_pic_loc)
    # ...